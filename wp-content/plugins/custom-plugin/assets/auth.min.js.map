{"version":3,"file":"auth.min.js","sources":["auth.min.js"],"sourcesContent":["/*\n * ATTENTION: The \"eval\" devtool has been used (maybe by default in mode: \"development\").\n * This devtool is neither made for production nor for readable output files.\n * It uses \"eval()\" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with \"devtool: false\".\n * If you are looking for production-ready output files, see mode: \"production\" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/js/auth.js\":\n/*!************************!*\\\n  !*** ./src/js/auth.js ***!\n  \\************************/\n/***/ (() => {\n\neval(\"document.addEventListener('DOMContentLoaded', function (e) {\\n    const showAuthBtn = document.getElementById('custom-show-auth-form'),\\n        authContainer = document.getElementById('custom-auth-container'),\\n        close = document.getElementById('custom-auth-close'),\\n        authForm = document.getElementById('custom-auth-form'),\\n        status = authForm.querySelector('[data-message=\\\"status\\\"]');\\n\\n    showAuthBtn.addEventListener('click', () => {\\n        authContainer.classList.add('show');\\n        showAuthBtn.parentElement.classList.add('hide');\\n    });\\n\\n    close.addEventListener('click', () => {\\n        authContainer.classList.remove('show');\\n        showAuthBtn.parentElement.classList.remove('hide');\\n    });\\n\\n    authForm.addEventListener('submit', e => {\\n        e.preventDefault();\\n\\n        resetMessages();\\n\\n        let data = {\\n            name: authForm.querySelector('[name=\\\"username\\\"]').value,\\n            password: authForm.querySelector('[name=\\\"password\\\"]').value,\\n            nonce: authForm.querySelector('[name=\\\"custom_auth\\\"]').value\\n        }\\n\\n        if (!data.name || !data.password) {\\n            status.innerHTML = \\\"Missing Data\\\";\\n            status.classList.add('error');\\n            return;\\n        }\\n\\n        let url = authForm.dataset.url;\\n        let params = new URLSearchParams(new FormData(authForm));\\n\\n        authForm.querySelector('[name=\\\"submit\\\"]').value = \\\"Logging in...\\\";\\n        authForm.querySelector('[name=\\\"submit\\\"]').disabled = true;\\n\\n        fetch(url, {\\n            method: \\\"POST\\\",\\n            body: params\\n        }).then(res => res.json())\\n            .catch(error => {\\n                resetMessages();\\n            })\\n            .then(response => {\\n                resetMessages();\\n\\n                if (response === 0 || !response.status) {\\n                    status.innerHTML = response.message;\\n                    status.classList.add('error');\\n                    return;\\n                }\\n\\n                status.innerHTML = response.message;\\n                status.classList.add('success');\\n\\n                authForm.reset();\\n                window.location.reload();\\n            })\\n    })\\n\\n    function resetMessages() {\\n        status.innerHTML = '';\\n        status.classList.remove('success', 'error');\\n\\n        authForm.querySelector('[name=\\\"submit\\\"]').value = \\\"Login\\\";\\n        authForm.querySelector('[name=\\\"submit\\\"]').disabled = false;\\n    }\\n});\\n\\n//# sourceURL=webpack://custom-plugin/./src/js/auth.js?\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can't be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = {};\n/******/ \t__webpack_modules__[\"./src/js/auth.js\"]();\n/******/ \t\n/******/ })()\n;"],"names":["__webpack_modules__","./src/js/auth.js","eval","__webpack_exports__"],"mappings":"CAQS,KACC,IAAIA,oBAAsB,CAE9BC,mBAIA,KAENC,KAAK,ihFAUSC,oBAAsB,GAC1BH,oBAAoB,uBApBrB"}