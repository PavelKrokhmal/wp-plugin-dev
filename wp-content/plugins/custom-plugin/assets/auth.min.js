(()=>{var __webpack_modules__={"./src/js/auth.js":()=>{eval("document.addEventListener('DOMContentLoaded', function (e) {\n    const showAuthBtn = document.getElementById('custom-show-auth-form'),\n        authContainer = document.getElementById('custom-auth-container'),\n        close = document.getElementById('custom-auth-close'),\n        authForm = document.getElementById('custom-auth-form'),\n        status = authForm.querySelector('[data-message=\"status\"]');\n\n    showAuthBtn.addEventListener('click', () => {\n        authContainer.classList.add('show');\n        showAuthBtn.parentElement.classList.add('hide');\n    });\n\n    close.addEventListener('click', () => {\n        authContainer.classList.remove('show');\n        showAuthBtn.parentElement.classList.remove('hide');\n    });\n\n    authForm.addEventListener('submit', e => {\n        e.preventDefault();\n\n        resetMessages();\n\n        let data = {\n            name: authForm.querySelector('[name=\"username\"]').value,\n            password: authForm.querySelector('[name=\"password\"]').value,\n            nonce: authForm.querySelector('[name=\"custom_auth\"]').value\n        }\n\n        if (!data.name || !data.password) {\n            status.innerHTML = \"Missing Data\";\n            status.classList.add('error');\n            return;\n        }\n\n        let url = authForm.dataset.url;\n        let params = new URLSearchParams(new FormData(authForm));\n\n        authForm.querySelector('[name=\"submit\"]').value = \"Logging in...\";\n        authForm.querySelector('[name=\"submit\"]').disabled = true;\n\n        fetch(url, {\n            method: \"POST\",\n            body: params\n        }).then(res => res.json())\n            .catch(error => {\n                resetMessages();\n            })\n            .then(response => {\n                resetMessages();\n\n                if (response === 0 || !response.status) {\n                    status.innerHTML = response.message;\n                    status.classList.add('error');\n                    return;\n                }\n\n                status.innerHTML = response.message;\n                status.classList.add('success');\n\n                authForm.reset();\n                window.location.reload();\n            })\n    })\n\n    function resetMessages() {\n        status.innerHTML = '';\n        status.classList.remove('success', 'error');\n\n        authForm.querySelector('[name=\"submit\"]').value = \"Login\";\n        authForm.querySelector('[name=\"submit\"]').disabled = false;\n    }\n});\n\n//# sourceURL=webpack://custom-plugin/./src/js/auth.js?")}},__webpack_exports__={};__webpack_modules__["./src/js/auth.js"]()})();
//# sourceMappingURL=auth.min.js.map
